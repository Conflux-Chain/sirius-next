{"version":3,"sources":["../../../src/components/FileUpload/index.tsx"],"sourcesContent":["import React from 'react';\n\nexport const FileUpload = React.forwardRef(\n  (\n    {\n      onChange = () => {},\n      onError = () => {},\n      accept = '',\n      ...others\n    }: {\n      onChange?: (result: string) => void;\n      onError?: (result: unknown) => void;\n      accept?: string;\n    },\n    ref: React.LegacyRef<HTMLInputElement>,\n  ) => {\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      let reader = new FileReader();\n      let file = e.target.files?.[0];\n\n      if (file) {\n        reader.onloadend = () => {\n          try {\n            onChange(reader.result as string);\n          } catch (e) {\n            onError(e);\n          }\n        };\n        reader.readAsText(file);\n      } else {\n        const error = new Error('no file');\n        onError(error);\n      }\n    };\n\n    return (\n      <input\n        type=\"file\"\n        name=\"File\"\n        style={{ display: 'none' }}\n        accept={accept}\n        ref={ref}\n        onChange={handleInputChange}\n        {...others}\n      />\n    );\n  },\n);\n"],"mappings":";AAAA,OAAO,WAAW;AAoCZ;AAlCC,IAAM,aAAa,MAAM;AAAA,EAC9B,CACE;AAAA,IACE,WAAW,MAAM;AAAA,IAAC;AAAA,IAClB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS;AAAA,IACT,GAAG;AAAA,EACL,GAKA,QACG;AACH,UAAM,oBAAoB,CAAC,MAA2C;AACpE,UAAI,SAAS,IAAI,WAAW;AAC5B,UAAI,OAAO,EAAE,OAAO,QAAQ,CAAC;AAE7B,UAAI,MAAM;AACR,eAAO,YAAY,MAAM;AACvB,cAAI;AACF,qBAAS,OAAO,MAAgB;AAAA,UAClC,SAASA,IAAG;AACV,oBAAQA,EAAC;AAAA,UACX;AAAA,QACF;AACA,eAAO,WAAW,IAAI;AAAA,MACxB,OAAO;AACL,cAAM,QAAQ,IAAI,MAAM,SAAS;AACjC,gBAAQ,KAAK;AAAA,MACf;AAAA,IACF;AAEA,WACE;AAAA,MAAC;AAAA;AAAA,QACC,MAAK;AAAA,QACL,MAAK;AAAA,QACL,OAAO,EAAE,SAAS,OAAO;AAAA,QACzB;AAAA,QACA;AAAA,QACA,UAAU;AAAA,QACT,GAAG;AAAA;AAAA,IACN;AAAA,EAEJ;AACF;","names":["e"]}